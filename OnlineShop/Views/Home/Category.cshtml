@{
  Layout = "_Layout";
}

<div class="page-header" id="featured-header">
  @if(Model != null )
  {
    <h1>All @Model["selectedCategory"].GetName()</h1>;
  }
</div>

<div class="row sort-by">
  <label>Sort By:</label>
  <form class="" action='/categories/@Model["selectedCategory"].GetId()/@Model["buyer"].GetId()' method="post">
  <select class="sort" name="sort">
    <option value="priceHighToLow">Price - High to Low</option>
    <option value="priceLowToHigh">Price - Low to High</option>
    <option value="brandAlphabetical">Brand - A-Z</option>
    <option value="brandAlphabeticalReverse">Brand - Z-A</option>
  </select>
  <button type="submit" name="button" class="btn btn-warning">Sort</button>
  </form>
</div>

<!-- FOREACH loop to create product rows -->
@if(Model != null )
{
  <div class="row products">
  @foreach(var product in Model["selectedCategory"].GetProducts(Model["sortParameter"]))
  {

      <div class="column category-product">
        <a href='/products/details/@product.GetId()/@Model["buyer"].GetId()'><img src="@product.GetImage()"></a>
        <div class="brand-description">
          <a href="/products/details/@product.GetId()">@product.GetBrand()</a><br>
          <a href="/products/details/@product.GetId()">@product.GetDescription()</a><br>
          <a href="/products/details/@product.GetId()">@product.GetPrice()</a>
        </div>
      </div>
  }
  </div>
}
